# 高性能MySQL

* 并发控制
  * 读写锁
    * 共享锁（读锁）
    * 排他锁（写锁）
  * 锁粒度
    * 表锁
    * 行级锁
* 事务
  * 原子性
  * 一致性
  * 隔离性
    * read uncommitted 未提交读
    * read committed 已提交读
    * repeatable read 可重复读
    * serializable 可串行化
  * 持久性
* 存储引擎
  * InnoDB
    * 储存在表空间
    * 采用MVCC来支持高并发，默认隔离级别是 repeatable read可重复读
    * 基于聚簇索引建立
    * 内部进行优化，采用可预测性预读，内存中创建hash索引加速读取，以及加速插入操作的加速缓冲区
  * MyISAM
    * 存储在数据文件和索引文件中
    * 特性
      * 加锁与并发
      * 修复
      * 索引特性
      * 延迟更新索引键
    * 压缩表

## 索引

### 基础

* 索引的类型

  * B-Tree索引

    对以下类型的查询有效

    * 全值匹配

      和索引中的所有列进行匹配

    * 匹配最左前缀

      只使用索引的第一列

    * 匹配列前缀

      只匹配某一列的值的开头部分

    * 匹配范围值

      查找值在某一范围的

    * 精确匹配某一列并范围匹配另外一列

      只使用索引的第一列后再匹配范围

    * 只访问索引的查询

    B-Tree索引的限制

    * 如果不是按照索引的最左列开始查找，则无法使用索引
    * 不能跳过索引中的列
    * 